DONE

	Profile again, see if there is still any low hanging fruit...

	Looks like it's reducing allocations, and fixing the datacenter lookup and sort.

	First thing I can do is create a constant time lookup from lat/long to the set of datacenters sorted in latency order.

	Then just point to this instead of calculating it each time a new player comes in

	Then I need to look at allocations I'm doing, to see if I can remove them

	Disabled garbage collection with env var and now I see:

		Showing top 20 nodes out of 78
      flat  flat%   sum%        cum   cum%
    13.21s 39.12% 39.12%     13.21s 39.12%  syscall.syscall
     8.21s 24.31% 63.43%     23.13s 68.49%  main.runSimulation
     6.81s 20.17% 83.59%      6.81s 20.17%  runtime.madvise
     1.20s  3.55% 87.15%      1.20s  3.55%  runtime.memclrNoHeapPointers
     0.74s  2.19% 89.34%      0.74s  2.19%  runtime.pthread_cond_wait
     0.71s  2.10% 91.44%      0.71s  2.10%  runtime.pthread_cond_signal
     0.50s  1.48% 92.92%      0.50s  1.48%  encoding/binary.littleEndian.PutUint32 (inline)
     0.42s  1.24% 94.17%      0.59s  1.75%  runtime.mapaccess1_fast64
     0.31s  0.92% 95.08%      0.31s  0.92%  runtime.(*mspan).init
     0.28s  0.83% 95.91%      0.28s  0.83%  runtime.memmove
     0.24s  0.71% 96.62%      1.59s  4.71%  main.initialize
     0.21s  0.62% 97.25%      0.21s  0.62%  runtime.mmap
     0.17s   0.5% 97.75%      0.17s   0.5%  runtime.usleep
     0.12s  0.36% 98.10%      0.33s  0.98%  strings.genSplit
     0.03s 0.089% 98.19%      0.33s  0.98%  runtime.mapassign_fast64
     0.02s 0.059% 98.25%      1.37s  4.06%  runtime.mallocgc
     0.01s  0.03% 98.28%      0.39s  1.15%  main.runSimulation.func1
         0     0% 98.28%      0.45s  1.33%  bufio.(*Scanner).Scan
         0     0% 98.28%      0.23s  0.68%  bufio.(*Scanner).Text (inline)
         0     0% 98.28%     12.76s 37.79%  fmt.Fprintf

    To see more I think I need to break up the runSimulation into functions... ?

    Good enough for now.

TODO

	Write the article

	-------------

	Write terraform scripts to deploy the matchmaker to google cloud.

	-------------

	Integrate the map with the article on mas-bandwidth.com

	-------------

	Publish the article

	-------------
